{% extends 'base.html' %}
{% block content %}
<h1>All Items</h1>

<form class="filter-form" method="get">
    <label>Status:</label>
    <select name="status" onchange="this.form.submit()">
        <option value="">All</option>
        {% for status in statuses %}
            <option value="{{ status }}" {% if selected == status %}selected{% endif %}>{{ status }}</option>
        {% endfor %}
    </select>
</form>

<div class="item-grid">
    {% for item in items %}
    <div class="item-card">
        <img src="{{ url_for('static', filename=item.image) }}" alt="Image">
        <h3>{{ item.title }}</h3>
        <p>Status: <strong>{{ item.status }}</strong></p>
        <a href="{{ url_for('item_detail', id=item.id) }}" class="btn">View Details</a>
    </div>
    {% else %}
    <p>No items found.</p>
    {% endfor %}
</div>
{% endblock %}
